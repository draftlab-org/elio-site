---
import { Image } from "astro:assets";
import { marked } from "marked";
import { getCollection, getEntry } from "astro:content";
const portfolio = await getCollection("portfolio");
import { twMerge } from "tailwind-merge";

const styles = portfolio.map((item) => ({
  primary: `bg-brand-${item.data.background.primary_color}`,
  secondary: `bg-brand-${item.data.background.secondary_color}`,
}));

// const styles = [
//   {
//     primary: `bg-brand-navy-50`,
//   },
//   {
//     primary: `bg-brand-purple`,
//   },
//   {
//     primary: `bg-brand-salmon`,
//   },
// ];
---

<section id="bento-grid" class="">
  <div class="mx-auto max-w-2xl px-6 lg:max-w-7xl lg:px-8">
    <div class="mt-10 grid gap-6 sm:mt-16 lg:grid-cols-2 lg:grid-rows-16">
      {
        portfolio &&
          portfolio.map((item, index) => (
            <div
              class:list={[
                styles[index].primary,
                `col-span-1 row-span-6 flex flex-col gap-8 rounded-2xl border-[1px] border-black p-6`,
              ]}
            >
              <p class="text-xl font-light">
                <span class="font-semibold">{item.data.id}</span> /
                {item.data.description}
              </p>
              <div class="tags mt-2 inline-flex gap-2">
                <span class="inline-flex items-center rounded-md bg-black/10 px-2 py-1 text-base font-medium text-black">
                  {item.data.role}
                </span>
                <span class="inline-flex items-center rounded-md bg-black/10 px-2 py-1 text-base font-medium text-black">
                  {item.data.period}
                </span>
              </div>
              <div class="mx-12">
                <Image
                  src={item.data.image.src}
                  alt={item.data.id}
                  class="w-full object-cover"
                />
              </div>
            </div>
          ))
      }
    </div>
  </div>
</section>
